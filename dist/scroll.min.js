!function(){"use strict";function e(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}function t(){try{return document.activeElement}catch(e){}}function o(e){var t=e&&e.tagName&&e.tagName.toLowerCase();return"input"==t&&"button"!=e.type&&"radio"!=e.type&&"checkbox"!=e.type||"textarea"==t||"label"==t||"form"==t}function n(e){return e.touches[0]&&e.touches[0].target&&o(e.touches[0].target)}function i(){return/Android/i.test(navigator.userAgent)}var l=angular.module("scroll",[]);!function(e){var t=Date.now||function(){return+new Date},o=60,n=1e3,i={},l=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,o=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(o=!1),o)return function(e,o){t(e,o)};var n=60,i={},l=0,r=1,c=null,a=+new Date;return function(e,t){var o=r++;return i[o]=e,l++,null===c&&(c=setInterval(function(){var e=+new Date,t=i;i={},l=0;for(var o in t)t.hasOwnProperty(o)&&(t[o](e),a=e);e-a>2500&&(clearInterval(c),c=null)},1e3/n)),o}}(),stop:function(e){var t=null!=i[e];return t&&(i[e]=null),t},isRunning:function(e){return null!=i[e]},start:function(e,r,c,a,s,_){var f=t(),u=f,h=0,p=0,m=l++;if(_||(_=document.body),m%20===0){var g={};for(var d in i)g[d]=!0;i=g}var v=function(l){var g=l!==!0,d=t();if(!i[m]||r&&!r(m))return i[m]=null,void(c&&c(o-p/((d-f)/n),m,!1));if(g)for(var T=Math.round((d-u)/(n/o))-1,S=0;S<Math.min(T,4);S++)v(!0),p++;a&&(h=(d-f)/a,h>1&&(h=1));var L=s?s(h):h;e(L,d,g)!==!1&&1!==h||!g?g&&(u=d,core.effect.Animate.requestAnimationFrame(v,_)):(i[m]=null,c&&c(o-p/((d-f)/n),m,1===h||null==a))};return i[m]=!0,core.effect.Animate.requestAnimationFrame(v,_),m}}}(window);var r;!function(){r=function(e,t){this.__callback=e,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3};for(var o in t)this.options[o]=t[o]};var e=function(e){return Math.pow(e-1,3)+1},t=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},o={__isSingleTouch:!1,__isTracking:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,o,n){var i=this;e&&(i.__clientWidth=e),t&&(i.__clientHeight=t),o&&(i.__contentWidth=o),n&&(i.__contentHeight=n),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,t){var o=this;o.__clientLeft=e||0,o.__clientTop=t||0},setSnapSize:function(e,t){var o=this;o.__snapWidth=e,o.__snapHeight=t},activatePullToRefresh:function(e,t,o,n){var i=this;i.__refreshHeight=e,i.__refreshActivate=t,i.__refreshDeactivate=o,i.__refreshStart=n},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,t,o,n){var i=this;if(!i.options.zooming)throw new Error("Zooming is not enabled!");i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1);var l=i.__zoomLevel;null==o&&(o=i.__clientWidth/2),null==n&&(n=i.__clientHeight/2),e=Math.max(Math.min(e,i.options.maxZoom),i.options.minZoom),i.__computeScrollMax(e);var r=(o+i.__scrollLeft)*e/l-o,c=(n+i.__scrollTop)*e/l-n;r>i.__maxScrollLeft?r=i.__maxScrollLeft:0>r&&(r=0),c>i.__maxScrollTop?c=i.__maxScrollTop:0>c&&(c=0),i.__publish(r,c,e,t)},zoomBy:function(e,t,o,n){var i=this;i.zoomTo(i.__zoomLevel*e,t,o,n)},scrollTo:function(e,t,o,n){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=n&&n!==i.__zoomLevel){if(!i.options.zooming)throw new Error("Zooming is not enabled!");e*=n,t*=n,i.__computeScrollMax(n)}else n=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?t=Math.round(t/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(t=Math.round(t/i.__snapHeight)*i.__snapHeight):t=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),t=Math.max(Math.min(i.__maxScrollTop,t),0),e===i.__scrollLeft&&t===i.__scrollTop&&(o=!1),i.__publish(e,t,n,o)},scrollBy:function(e,t,o){var n=this,i=n.__isAnimating?n.__scheduledLeft:n.__scrollLeft,l=n.__isAnimating?n.__scheduledTop:n.__scrollTop;n.scrollTo(i+(e||0),l+(t||0),o)},doMouseZoom:function(e,t,o,n){var i=this,l=e>0?.97:1.03;return i.zoomTo(i.__zoomLevel*l,!1,o-i.__clientLeft,n-i.__clientTop)},doTouchStart:function(e,t){if(null==e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var o=this;o.__isDecelerating&&(core.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1),o.__isAnimating&&(core.effect.Animate.stop(o.__isAnimating),o.__isAnimating=!1);var n,i,l=1===e.length;l?(n=e[0].pageX,i=e[0].pageY):(n=Math.abs(e[0].pageX+e[1].pageX)/2,i=Math.abs(e[0].pageY+e[1].pageY)/2),o.__initialTouchLeft=n,o.__initialTouchTop=i,o.__zoomLevelStart=o.__zoomLevel,o.__lastTouchLeft=n,o.__lastTouchTop=i,o.__lastTouchMove=t,o.__lastScale=1,o.__enableScrollX=!l&&o.options.scrollingX,o.__enableScrollY=!l&&o.options.scrollingY,o.__isTracking=!0,o.__isDragging=!l,o.__isSingleTouch=l,o.__positions=[]},doTouchMove:function(e,t,o){if(null==e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var n=this;if(n.__isTracking){var i,l;2===e.length?(i=Math.abs(e[0].pageX+e[1].pageX)/2,l=Math.abs(e[0].pageY+e[1].pageY)/2):(i=e[0].pageX,l=e[0].pageY);var r=n.__positions;if(n.__isDragging){var c=i-n.__lastTouchLeft,a=l-n.__lastTouchTop,s=n.__scrollLeft,_=n.__scrollTop,f=n.__zoomLevel;if(null!=o&&n.options.zooming){var u=f;if(f=f/n.__lastScale*o,f=Math.max(Math.min(f,n.options.maxZoom),n.options.minZoom),u!==f){var h=i-n.__clientLeft,p=l-n.__clientTop;s=(h+s)*f/u-h,_=(p+_)*f/u-p,n.__computeScrollMax(f)}}if(n.__enableScrollX){s-=c;var m=n.__maxScrollLeft;(s>m||0>s)&&(n.options.bouncing?s+=c/2:s=s>m?m:0)}if(n.__enableScrollY){_-=a;var g=n.__maxScrollTop;(_>g||0>_)&&(n.options.bouncing?(_+=a/2,n.__enableScrollX||null==n.__refreshHeight||(!n.__refreshActive&&_<=-n.__refreshHeight?(n.__refreshActive=!0,n.__refreshActivate&&n.__refreshActivate()):n.__refreshActive&&_>-n.__refreshHeight&&(n.__refreshActive=!1,n.__refreshDeactivate&&n.__refreshDeactivate()))):_=_>g?g:0)}r.length>60&&r.splice(0,30),r.push(s,_,t),n.__publish(s,_,f)}else{var d=n.options.locking?3:0,v=5,T=Math.abs(i-n.__initialTouchLeft),S=Math.abs(l-n.__initialTouchTop);n.__enableScrollX=n.options.scrollingX&&T>=d,n.__enableScrollY=n.options.scrollingY&&S>=d,r.push(n.__scrollLeft,n.__scrollTop,t),n.__isDragging=(n.__enableScrollX||n.__enableScrollY)&&(T>=v||S>=v)}n.__lastTouchLeft=i,n.__lastTouchTop=l,n.__lastTouchMove=t,n.__lastScale=o}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var t=this;if(t.__isTracking){if(t.__isTracking=!1,t.__isDragging&&(t.__isDragging=!1,t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100)){for(var o=t.__positions,n=o.length-1,i=n,l=n;l>0&&o[l]>t.__lastTouchMove-100;l-=3)i=l;if(i!==n){var r=o[n]-o[i],c=t.__scrollLeft-o[i-2],a=t.__scrollTop-o[i-1];t.__decelerationVelocityX=c/r*(1e3/60),t.__decelerationVelocityY=a/r*(1e3/60);var s=t.options.paging||t.options.snapping?4:1;(Math.abs(t.__decelerationVelocityX)>s||Math.abs(t.__decelerationVelocityY)>s)&&(t.__refreshActive||t.__startDeceleration(e))}}t.__isDecelerating||(t.__refreshActive&&t.__refreshStart?(t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,!0),t.__refreshStart&&t.__refreshStart()):(t.scrollTo(t.__scrollLeft,t.__scrollTop,!0,t.__zoomLevel),t.__refreshActive&&(t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate()))),t.__positions.length=0}},__publish:function(o,n,i,l){var r=this,c=r.__isAnimating;if(c&&(core.effect.Animate.stop(c),r.__isAnimating=!1),l&&r.options.animating){r.__scheduledLeft=o,r.__scheduledTop=n,r.__scheduledZoom=i;var a=r.__scrollLeft,s=r.__scrollTop,_=r.__zoomLevel,f=o-a,u=n-s,h=i-_,p=function(e,t,o){o&&(r.__scrollLeft=a+f*e,r.__scrollTop=s+u*e,r.__zoomLevel=_+h*e,r.__callback&&r.__callback(r.__scrollLeft,r.__scrollTop,r.__zoomLevel))},m=function(e){return r.__isAnimating===e},g=function(e,t,o){t===r.__isAnimating&&(r.__isAnimating=!1),r.options.zooming&&r.__computeScrollMax()};r.__isAnimating=core.effect.Animate.start(p,m,g,r.options.animationDuration,c?e:t)}else r.__scheduledLeft=r.__scrollLeft=o,r.__scheduledTop=r.__scrollTop=n,r.__scheduledZoom=r.__zoomLevel=i,r.__callback&&r.__callback(o,n,i),r.options.zooming&&r.__computeScrollMax()},__computeScrollMax:function(e){var t=this;null==e&&(e=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var o=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),n=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),i=t.__clientWidth,l=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(o/i)*i,t.__minDecelerationScrollTop=Math.floor(n/l)*l,t.__maxDecelerationScrollLeft=Math.ceil(o/i)*i,t.__maxDecelerationScrollTop=Math.ceil(n/l)*l}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var r=function(e,o,n){t.__stepThroughDeceleration(n)},c=t.options.snapping?4:.1,a=function(){return Math.abs(t.__decelerationVelocityX)>=c||Math.abs(t.__decelerationVelocityY)>=c},s=function(e,o,n){t.__isDecelerating=!1,t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(r,a,s)},__stepThroughDeceleration:function(e){var t=this,o=t.__scrollLeft+t.__decelerationVelocityX,n=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var i=Math.max(Math.min(t.__maxDecelerationScrollLeft,o),t.__minDecelerationScrollLeft);i!==o&&(o=i,t.__decelerationVelocityX=0);var l=Math.max(Math.min(t.__maxDecelerationScrollTop,n),t.__minDecelerationScrollTop);l!==n&&(n=l,t.__decelerationVelocityY=0)}if(e?t.__publish(o,n,t.__zoomLevel):(t.__scrollLeft=o,t.__scrollTop=n),!t.options.paging){var r=.95;t.__decelerationVelocityX*=r,t.__decelerationVelocityY*=r}if(t.options.bouncing){var c=0,a=0,s=.03,_=.08;o<t.__minDecelerationScrollLeft?c=t.__minDecelerationScrollLeft-o:o>t.__maxDecelerationScrollLeft&&(c=t.__maxDecelerationScrollLeft-o),n<t.__minDecelerationScrollTop?a=t.__minDecelerationScrollTop-n:n>t.__maxDecelerationScrollTop&&(a=t.__maxDecelerationScrollTop-n),0!==c&&(c*t.__decelerationVelocityX<=0?t.__decelerationVelocityX+=c*s:t.__decelerationVelocityX=c*_),0!==a&&(a*t.__decelerationVelocityY<=0?t.__decelerationVelocityY+=a*s:t.__decelerationVelocityY=a*_)}}};for(var n in o)r.prototype[n]=o[n]}();var c=function(e,t){this.content=e,this.container=e.parentNode,this.options=t||{};var o=this;this.scroller=new r(function(e,t,n){o.options.onScroll({left:e,top:t,zoom:n}),o.render(e,t,n)},t),this.bindEvents(),this.content.style[c.vendorPrefix+"TransformOrigin"]="left top",this.reflow()};c.prototype.render=function(){var e,t=document.documentElement.style;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?e="presto":"MozAppearance"in t?e="gecko":"WebkitAppearance"in t?e="webkit":"string"==typeof navigator.cpuClass&&(e="trident");var o,n=c.vendorPrefix={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[e],i=document.createElement("div"),l=n+"Perspective",r=n+"Transform";return i.style[l]!==o?function(e,t,o){this.content.style[r]="translate3d("+-e+"px,"+-t+"px,0) scale("+o+")"}:i.style[r]!==o?function(e,t,o){this.content.style[r]="translate("+-e+"px,"+-t+"px) scale("+o+")"}:function(e,t,o){this.content.style.marginLeft=e?-e/o+"px":"",this.content.style.marginTop=t?-t/o+"px":"",this.content.style.zoom=o||""}}(),c.prototype.reflow=function(){console.log("reflow"),this.scroller.setDimensions(this.container.clientWidth,this.container.clientHeight,this.content.offsetWidth,this.content.offsetHeight);var e=this.container.getBoundingClientRect();this.scroller.setPosition(e.left+this.container.clientLeft,e.top+this.container.clientTop)},c.prototype.bindEvents=function(){function o(e,t){var o=window.addEventListener(e,function(){t(),window.removeEventListener(e,o)})}function l(e){var t=e.offsetTop;o("resize",function(){r.scroller.scrollTo(0,t-50,!1)})}var r=this,c=a.throttle(function(){r.reflow()},300);if(window.addEventListener("resize",c,!1),window.addEventListener("DOMNodeInserted",c,!1),window.addEventListener("DOMNodeRemoved",c,!1),window.scroll=r,"ontouchstart"in window){var s=null,_=e(),f=i();this.container.addEventListener("touchstart",function(e){return n(e)?void(_&&(f&&l(e.touches[0].target),s=!0)):(s&&(console.log("blur",s),t().blur(),s=!1),void r.scroller.doTouchStart(e.touches,e.timeStamp))},!1),this.container.parentNode.addEventListener("touchmove",function(e){e.preventDefault()}),this.container.addEventListener("touchmove",function(e){r.scroller.doTouchMove(e.touches,e.timeStamp,e.scale)},!1),this.container.addEventListener("touchend",function(e){r.scroller.doTouchEnd(e.timeStamp)},!1),this.container.addEventListener("touchcancel",function(e){r.scroller.doTouchEnd(e.timeStamp)},!1)}else{var u=!1;this.container.addEventListener("mousedown",function(e){e.target.tagName.match(/input|textarea|select/i)||(r.scroller.doTouchStart([{pageX:e.pageX,pageY:e.pageY}],e.timeStamp),u=!0,e.preventDefault())},!1),document.addEventListener("mousemove",function(e){u&&(r.scroller.doTouchMove([{pageX:e.pageX,pageY:e.pageY}],e.timeStamp),u=!0)},!1),document.addEventListener("mouseup",function(e){u&&(r.scroller.doTouchEnd(e.timeStamp),u=!1)},!1),this.container.addEventListener("mousewheel",function(e){r.options.zooming&&(r.scroller.doMouseZoom(e.wheelDelta,e.timeStamp,e.pageX,e.pageY),e.preventDefault())},!1)}},l.controller("$scroll",function(e,t,o){this.scroll=null,this._finishRefresh=function(){this.scroll.refresher.removeClass(this.scroll.refreshConfig.runningClass),this.scroll.refresher.removeClass(this.scroll.refreshConfig.activeClass),this.scroll.scroller.finishPullToRefresh()},this.setRefresher=function(n,i,l){this.scroll.refresher=angular.element(n);var r=n[0].offsetHeight;if(l=l||{activeClass:"active",runningClass:"running"},this.scroll.refreshConfig=l,this.scroll){var c=this;this.scroll.scroller.activatePullToRefresh(r,function(){c.scroll.refresher.addClass(l.activeClass),t.debug("refresher:: release"),o(function(){i.text=i.releaseText,i.icon=i.releaseIcon})},function(){c.scroll.refresher.removeClass(l.activeClass),t.debug("refresher:: pull"),o(function(){i.text=i.pullText,i.icon=i.pullIcon})},function(){c.scroll.refresher.addClass(l.runningClass),t.debug("refresher:: refresh"),o(function(){i.text=i.refreshText,i.icon=i.refreshIcon}),e.onRefresh&&e.onRefresh()})}},this.setScroll=function(e,t){var o=t.scrollable||"y",n=t.zoomable||"",i=n.split("-"),l=i.length>1&&parseFloat(i[0]),r=i.length>1&&parseFloat(i[1]),s=300;this.$element=angular.element(e);var _=this,f=a.throttle(function(e){_.$element.triggerHandler("scroll",e)},s);this.scroll=new c(e,{scrollingX:"true"===o||"x"===o,scrollingY:"true"===o||"y"===o,zooming:"true"===n||i.length>1,minZoom:l,maxZoom:r,onScroll:f})}}),l.directive("infinityScroll",function(e){return{restrict:"E",require:["^scroll","infinityScroll"],scope:{onInfinite:"&",distance:"@"},controller:function(e){var t=!1;this.infinityScroll=function(){t||(console.log("infinityScroll",e.onInfinite()),e.onInfinite&&(e.onInfinite(),t=!0))},this.finishInfinityScroll=function(){t=!1}},link:function(t,o,n,i){var l=i[0],r=i[1];o.addClass("infinity-scroll"),t.distance=t.distance||50,e.debug("infinity scroll",l),l.$element.bind("scroll",function(e,o){var n=l.scroll.scroller.__contentHeight-l.scroll.scroller.__clientHeight-o.top;n<t.distance&&r.infinityScroll()}),t.$on("$scrollDidFinishInfinity",function(){e.debug("scrollDidFinishInfinity"),r.finishInfinityScroll()}),t.$on("$destroy",function(){e.debug("infinity scroll destroy"),l.$element.off("scroll")})}}}),l.directive("refresher",function(e){return{restrict:"E",require:["^scroll"],replace:!1,template:'<div class="refresh"><i class="icon" ng-class="icon"></i>{{text}}</div>',scope:{pullText:"@",releaseText:"@",refreshText:"@"},link:function(t,o,n,i){var l=i[0];t.pullText=t.pullText||"Pull new to refresh...",t.pullIcon=t.pullIcon||"icon-arrow-down",t.releaseText=t.releaseText||"Release to refresh...",t.releaseIcon=t.releaseIcon||"icon-arrow-up",t.refreshText=t.refreshText||"Loading...",t.refreshIcon=t.refreshIcon||"icon-spinner",t.text=t.pullText,t.icon=t.pullIcon,e.debug("refresher directive:: scroll ctrl",i,l.scroll),l.setRefresher(angular.element(o[0].querySelector(".refresh")),t),t.$on("$scrollDidFinishLoading",function(){t.text=t.pullText,t.icon=t.pullIcon,l._finishRefresh()})}}}),l.directive("scroll",function(e,t){return{restrict:"EA",scope:{onRefresh:"&"},controller:"$scroll",compile:function(e,t){function o(e,t,o,i){i.setScroll(n[0],{scrollable:o.scrollable,zommable:o.zoomable})}e.addClass("scroll");var n=angular.element("<div/>").addClass("scroll-wrap");return n.append(e.contents()),e.append(n),{pre:o}}}});var a={throttle:function(e,t,o){var n,i,l,r=null,c=0;o||(o={});var a=function(){c=o.leading===!1?0:Date.now(),r=null,l=e.apply(n,i)};return function(){var s=Date.now();c||o.leading!==!1||(c=s);var _=t-(s-c);return n=this,i=arguments,0>=_?(clearTimeout(r),r=null,c=s,l=e.apply(n,i)):r||o.trailing===!1||(r=setTimeout(a,_)),l}}}}();